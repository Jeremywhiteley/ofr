<!--<Code for Popup>-->
    <popup>
    <div *ngIf="caseDetails">
    <div class="modal-body">
    <div class="container">
    <table class="table table-bordered table-hover">
        <thead>
            <th>OCME</th>
            <th>ResidentCounty</th>
            <th>DateofDeath</th>
            <th>CauseofDeath</th>
            <th>CountyofDeath</th>
            <th>Status</th>
            <th>Action</th>
        </thead>
        <tbody class="table">
            <tr>
                <td>{{caseDetails.OCME}}</td>
                <td>{{caseDetails.Data['ResidentCounty']}}</td>
                <td>{{caseDetails.Data['DateofDeath']}}</td>
                <td>{{caseDetails.Data['CauseofDeath']}}</td>
                <td>{{caseDetails.Data['CountyofDeath']}}</td>
                <td>{{caseDetails.Status}}</td>
                <td *ngIf="caseDetails.Status =='Assigned'">  
                        <a (click)="updateStatus(caseDetails.id ,'Dismissed')" class="icon-trash fleft    margin_l25 "> </a>
                        <a (click)="updateStatus(caseDetails.id ,'Unflagged')" *ngIf="caseDetails.Flagged" class="icon-flagged fleft   margin_l5"> </a>
                        <a (click)="updateStatus(caseDetails.id ,'Flagged')" *ngIf="!caseDetails.Flagged" class="icon-unflagged fleft   margin_l5"> </a>
                </td>
                <td *ngIf="caseDetails.Status =='Available'">
                        <a (click)="updateStatus(caseDetails.id ,'Assigned')" class="icon-accept fleft   margin_l5"> </a>
                        <a (click)="updateStatus(caseDetails.id ,'Dismissed')" class="icon-trash fleft   margin_l25"> </a>
                        <a (click)="updateStatus(caseDetails.id ,'Unflagged')" *ngIf="caseDetails.Flagged" class="icon-flagged fleft   margin_l5"> </a>
                        <a (click)="updateStatus(caseDetails.id ,'Flagged')" *ngIf="!caseDetails.Flagged" class="icon-unflagged fleft   margin_l5"> </a>
                </td>
                <td *ngIf="caseDetails.Status =='Dismissed'">
                        <a (click)="updateStatus(caseDetails.id ,'Assigned')" class="icon-accept fleft   margin_l25"> </a>
                        <a (click)="updateStatus(caseDetails.id ,'Unflagged')" *ngIf="caseDetails.Flagged" class="icon-flagged fleft   margin_l5"> </a>
                        <a (click)="updateStatus(caseDetails.id ,'Flagged')" *ngIf="!caseDetails.Flagged" class="icon-unflagged fleft   margin_l5"> </a>
                </td>
            </tr>
        </tbody>
    </table>
    </div> 
    </div> 
    </div>
    </popup>

<!--<code for Pop up ends>-->

<!--<pagination-controls 
			(pageChange) = "page = paginationOpenCasesData($event); p = $event;" 
			id="1"
			maxSize = "8"
			directionLinks = "true"
			autohide = "true"
            >
</pagination-controls>-->



<!--<code for actual data display on Dashboard>-->
<div class="row">
    <div class="col-md-6 col-sm-6 pull-left mainheading"></div>
    <div class="col-md-6 col-sm-6 ">
        <div class="pull-right btn-Case-Report"> <button type="button" (click)="onToggle(show)" class="btn btn-sm btn-primary">Case Report </button></div>
    </div>
</div>
<div id=caseReport *ngIf="show">
    <case-report [ngClass]="{ 'ic-v': visible, 'ic-v-up': !visible }"> </case-report>
</div>
<div class="clear"></div>

<div [ngSwitch]='status'>
        <div *ngSwitchCase="'loading'" class="load-spinner" >
                  Loading....
        </div>
    <div *ngSwitchCase="'active'">

        <div class="table-responsive">
            <h5 class="heading"><span>Open Cases</span><span style="float:right; padding-bottom:20px"><pagination-controls 
			(pageChange) = "page = paginationOpenCasesData($event); p = $event;" 
			id="1"
			maxSize = "8"
			directionLinks = "true"
			autohide = "true"
            >
</pagination-controls></span></h5>
            <table class="table table-bordered table-striped table-sm mycasetable" [mfData]="data" #mfAssigned="mfDataTable" [(mfSortBy)]="sortBy" [(mfSortOrder)]="sortOrder">
                <thead>
                    <tr>
                        <th class="width12">
                            <mfDefaultSorter by="OCME">OCME #</mfDefaultSorter>
                        </th>
                        <th class="width12">
                            <mfDefaultSorter by="ResidentCounty">Resident County</mfDefaultSorter>
                        </th>
                        <th class="width12">
                            <mfDefaultSorter by="DateofDeath">Date Of Death</mfDefaultSorter>
                        </th>
                        <th class="width12">
                            <mfDefaultSorter by="CauseofDeath">Cause of Death</mfDefaultSorter>
                        </th>
                        <th class="width12">
                            <mfDefaultSorter by="CountyofDeath">County of Death</mfDefaultSorter>
                        </th>
                        <!--<th class="width12">
                            <mfDefaultSorter by="Status">Status</mfDefaultSorter>
                        </th>-->
                        <th class="width12"> Case Action </th>
                       
                    </tr>
                </thead>
                <tbody>
                    <tr *ngFor="let item of mfAssigned.data | filter : ['Assigned'] | paginate : { itemsPerPage:5, currentPage:p, id : 1, totalItems:15 }">
                        <!--<td><a [routerLink]="['/case', item.id]">{{item.OCME}}</a></td>-->
                        <td><a class="label-ocme" (click)="openDialog($event)" id={{item.id}}>{{item.OCME}}</a></td>
                        <!--<td><button md-button (click)="openDialog()">{{item.OCME}}</button></td>-->
                        <td>{{item.ResidentCounty}}</td>
                        <td>{{item.DateofDeath}}</td>
                        <td>{{item.CauseofDeath}}</td>
                        <td>{{item.CountyofDeath}}</td>
                        <!--<td>{{item.Status}}</td>-->
                          <td>
                           
                            <a (click)="updateStatus(item.id ,'Dismissed')" class="icon-trash  fleft   margin_l5"> </a>
                            <a (click)="updateStatus(item.id ,'Unflagged')" *ngIf="item.Flagged" class="icon-flagged   fleft   margin_l5"> </a>
                            <a (click)="updateStatus(item.id ,'Flagged')" *ngIf="!item.Flagged" class="icon-unflagged    fleft   margin_l5"> </a>
                            <a [routerLink]="['/case', item.id]"><i class="fa fa-pencil-square-o" aria-hidden="true"></i></a>
                        </td>
                    </tr>
                </tbody>
            </table>
        </div>

        <h5 class="heading"><span>Available to Review </span><span style="float:right; padding-bottom:20px">
            <pagination-controls 
			(pageChange) = "page = paginationAvailableCasesData($event); pAvailable = $event;" 
			id="2"
			maxSize = "8"
			directionLinks = "true"
			autohide = "true">
            </pagination-controls>
            </span>
        </h5>
        <div class="table-responsive">
            <table class="table table-bordered table-striped table-sm mycasetable" [mfData]="data" #mfNew="mfDataTable" [(mfSortBy)]="sortBy" [(mfSortOrder)]="sortOrder">
                <thead>
                    <tr>
                        <th class="width12">
                            <mfDefaultSorter by="OCME">OCME #</mfDefaultSorter>
                        </th>
                        <th class="width12">
                            <mfDefaultSorter by="ResidentCounty">Resident County</mfDefaultSorter>
                        </th>
                        <th class="width12">
                            <mfDefaultSorter by="DateofDeath">Date Of Death</mfDefaultSorter>
                        </th>
                        <th class="width12">
                            <mfDefaultSorter by="CauseofDeath">Cause of Death</mfDefaultSorter>
                        </th>
                        <th class="width12">
                            <mfDefaultSorter by="CountyofDeath">County of Death</mfDefaultSorter>
                        </th>
                        <!--<th class="width12">
                            <mfDefaultSorter by="Status">Status</mfDefaultSorter>
                        </th>-->
                        <th class="width12"> Case Action </th>
                       
                    </tr>
                </thead>
                <tbody>
                    <tr *ngFor="let item of mfNew.data | filter : ['New','Available'] | paginate : { itemsPerPage:5, currentPage:pAvailable, id : 2, totalItems:5 } ">
                        <!--<td> <a [routerLink]="['/case', item.id]">{{item.OCME}}</a></td>-->
                        <td><a class="label-ocme" (click)="openDialog($event)" id={{item.id}}>{{item.OCME}}</a></td>
                        <td>{{item.ResidentCounty}}</td>
                        <td>{{item.DateofDeath}}</td>
                        <td>{{item.CauseofDeath}}</td>
                        <td>{{item.CountyofDeath}}</td>
                        <!--<td>{{item.Status}}</td>-->
                          <td>
                            <a (click)="updateStatus(item.id ,'Assigned')" class="icon-accept  fleft   margin_l5"> </a>
                            <a (click)="updateStatus(item.id ,'Dismissed')" class="icon-trash  fleft   margin_l5"> </a>
                            <a (click)="updateStatus(item.id ,'Unflagged')" *ngIf="item.Flagged" class="icon-flagged  fleft   margin_l5"> </a>
                            <a (click)="updateStatus(item.id ,'Flagged')" *ngIf="!item.Flagged" class="icon-unflagged  fleft   margin_l5"> </a>
                            <!--<a [routerLink]="['/case', item.id]"><span class="icon-edit fleft   margin_l5"></span></a>-->
                            <a [routerLink]="['/case', item.id]"><i class="fa fa-pencil-square-o" aria-hidden="true"></i></a>
                            
                            
                        </td>
                    </tr>
                </tbody>
            </table>

        </div>

        

        <h5 class="heading"><span>Dismissed Cases</span>
        <span style="float:right; padding-bottom:20px"><pagination-controls 
			(pageChange) = "pageDismissed = paginationDismissedData($event); pDismissed = $event;" 
			id="3"
			maxSize = "8"
			directionLinks = "true"
			autohide = "true">
            </pagination-controls>
        </span>
        </h5>
        <div class="table-responsive">
            <table class="table table-bordered table-striped mycasetable" [mfData]="data" #mfDismissed="mfDataTable" [(mfSortBy)]="sortBy" [(mfSortOrder)]="sortOrder">
                <thead>
                    <tr>
                        <th class="width12">
                            <mfDefaultSorter by="OCME">OCME #</mfDefaultSorter>
                        </th>
                        <th class="width12">
                            <mfDefaultSorter by="ResidentCounty">Resident County</mfDefaultSorter>
                        </th>
                        <th class="width12">
                            <mfDefaultSorter by="DateofDeath">Date Of Death</mfDefaultSorter>
                        </th>
                        <th class="width12">
                            <mfDefaultSorter by="CauseofDeath">Cause of Death</mfDefaultSorter>
                        </th>
                        <th class="width12">
                            <mfDefaultSorter by="CountyofDeath">County of Death</mfDefaultSorter>
                        </th>
                        <!--<th class="width12">
                            <mfDefaultSorter by="Status">Status</mfDefaultSorter>
                        </th>-->
                        <th class="width12"> Case Action </th>
                      
                    </tr>
                </thead>
                <tbody>
                    <tr *ngFor="let item of mfDismissed.data | filter : ['Dismissed'] | paginate : { itemsPerPage:5, currentPage:pDismissed, id : 3, totalItems:15} ">
                        <!--<td> <a [routerLink]="['/case', item.id]">{{item.OCME}}</a></td>-->
                        <td><a class="label-ocme" (click)="openDialog($event)" id={{item.id}}>{{item.OCME}}</a></td>
                        <td>{{item.ResidentCounty}}</td>
                        <td>{{item.DateofDeath}}</td>
                        <td>{{item.CauseofDeath}}</td>
                        <td>{{item.CountyofDeath}}</td>
                        <!--<td>{{item.Status}} </td>-->
                        <td>
                            <a (click)="updateStatus(item.id ,'Assigned')" class="icon-accept  fleft   margin_l5"> </a>
                            <a (click)="updateStatus(item.id ,'Unflagged')" *ngIf="item.Flagged" class="icon-flagged  fleft   margin_l5"> </a>
                            <a (click)="updateStatus(item.id ,'Flagged')" *ngIf="!item.Flagged" class="icon-unflagged  fleft   margin_l5"> </a>
                        </td>
                    </tr>
                </tbody>
            </table>

        </div>

        <h5 class="heading"><span>Submitted Cases</span>
        <span style="float:right; padding-bottom:20px"><pagination-controls 
			(pageChange) = "pageSubmitted = paginationSubmittedData($event); pSubmitted = $event;" 
			id="4"
			maxSize = "8"
			directionLinks = "true"
			autohide = "true">
            </pagination-controls>
        </span>
    </h5>
        <div class="table-responsive">
            <table class="table table-bordered table-striped mycasetable" [mfData]="data" #mfSubmitted="mfDataTable" [(mfSortBy)]="sortBy" [(mfSortOrder)]="sortOrder">
                <thead>
                    <tr>
                        <th class="width12">
                            <mfDefaultSorter by="OCME">OCME #</mfDefaultSorter>
                        </th>
                        <th class="width12">
                            <mfDefaultSorter by="ResidentCounty">Resident County</mfDefaultSorter>
                        </th>
                        <th class="width12">
                            <mfDefaultSorter by="DateofDeath">Date Of Death</mfDefaultSorter>
                        </th>
                        <th class="width12">
                            <mfDefaultSorter by="CauseofDeath">Cause of Death</mfDefaultSorter>
                        </th>
                        <th class="width12">
                            <mfDefaultSorter by="CountyofDeath">County of Death</mfDefaultSorter>
                        </th>
                        <!--<th class="width12">
                            <mfDefaultSorter by="Status">Status</mfDefaultSorter>
                        </th>-->
                        <th class="width12"> Case Action </th>
                      
                    </tr>
                </thead>
                <tbody>
                    <tr *ngFor="let item of mfSubmitted.data | filter : ['Submitted'] | paginate : { itemsPerPage:5, currentPage:pSubmitted, id : 4, totalItems:15} ">
                        <!-- <td> <a class="label-ocme" [routerLink]="['/case', item.id]">{{item.OCME}}</a></td> -->
                        <td><a class="label-ocme" (click)="openDialog($event)" id={{item.id}}>{{item.OCME}}</a></td>
                        <td>{{item.ResidentCounty}}</td>
                        <td>{{item.DateofDeath}}</td>
                        <td>{{item.CauseofDeath}}</td>
                        <td>{{item.CountyofDeath}}</td>
                        <!--<td>{{item.Status}} </td>-->
                        <td>
                            <!-- SK_Removing the option to accept a submitted cases. Confirm with Laura. -->
                            <a (click)="updateStatus(item.id ,'Assigned')" class="icon-accept fleft   margin_l25"> </a>
                            <a (click)="updateStatus(item.id ,'Unflagged')" *ngIf="item.Flagged" class="icon-flagged fleft   margin_l5"> </a>
                            <a (click)="updateStatus(item.id ,'Flagged')" *ngIf="!item.Flagged" class="icon-unflagged fleft   margin_l5"> </a>
                        </td>
                    </tr>
                </tbody>
            </table>

        </div>


    </div>
</div>